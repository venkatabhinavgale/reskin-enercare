!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(8);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(9).default,o=n(6);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,n.apply(this,arguments)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){n(12),n(10),t.exports=n(11)},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,n(e,r)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=n.p+"css/grids.css"},function(t,e,n){t.exports=n.p+"css/frontend.css"},function(t,e,n){"use strict";n.r(e);var r=n(5),o=n.n(r),a=n(1),i=n.n(a),s=n(2),c=n.n(s),l=n(3),u=n.n(l),d=n(4),p=n.n(d),g=n(0),h=n.n(g),_=function(t){var e=t.split("."),n=grids.strings;return jQuery.each(e,(function(t,e){if(void 0===n[e])return n=null,!1;n=n[e]})),n||t};function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var v=wp.element,m=v.createElement,f=v.Fragment,k=v.Component,w=wp.components,y=(w.SelectControl,w.TextControl),x=w.Dropdown,z=w.Button,C=w.MenuItem,B=w.Tooltip,S=function(t){u()(n,t);var e=b(n);function n(){return i()(this,n),e.apply(this,arguments)}return c()(n,[{key:"onChangeValue",value:function(t){var e={value:t,unit:this.props.unit};this.setState(e),this.props.onChange(e)}},{key:"onChangeUnit",value:function(t){var e={value:this.props.value,unit:t};this.setState(e),this.props.onChange(e)}},{key:"unitLabel",value:function(t,e){var n="";return jQuery.each(t,(function(){if(this.value===e)return n=this.label,!1})),n}},{key:"render",value:function(){var t=this,e=this,n=JSON.parse(JSON.stringify(grids.general.size_units));""!==n[0].value&&n.splice(0,0,{label:"-",value:""});var r=this.props.label||_("components.size.value");return m("div",{className:"grids-size-control"},m(y,{label:r,value:this.props.value,onChange:function(e){return t.onChangeValue(e)}}),m(x,{position:"bottom right",renderToggle:function(r){var o=r.isOpen,a=r.onToggle;r.onClose;return m(B,{text:_("components.size.select_unit")},m(z,{onClick:a,"aria-expanded":o},e.unitLabel(n,t.props.unit)))},renderContent:function(t){t.isOpen,t.onToggle;var r=t.onClose,o=[];return jQuery.each(n,(function(t,n){var a="";n.value===e.props.unit&&(a="grids-selected"),o.push(m(C,{className:a,onClick:function(){e.onChangeUnit(n.value),r()}},n.label))})),m(f,null,o)}}))}}]),n}(k),I=wp.element,j=I.createElement,R=I.Fragment;var O=function(t){var e,n={top:_("components.spacing.margin_top"),right:_("components.spacing.margin_right"),bottom:_("components.spacing.margin_bottom"),left:_("components.spacing.margin_left")};return j(R,null,j("div",{className:"grids-s-c grids-s-margin"},j("h3",null,_("components.spacing.margin")),(e=[],jQuery.each(n,(function(n,r){e.push(j(S,{key:n,label:r,advanced:!0,value:t["margin_"+t.breakpoint+"_"+n],unit:t["margin_"+t.breakpoint+"_"+n+"_unit"],max:100,min:-100,initialPosition:0,allowReset:!0,onChange:function(e){return function(e,n){void 0===n.value&&(n.value="");var r={};r["margin_"+t.breakpoint+"_"+e]=n.value,r["margin_"+t.breakpoint+"_"+e+"_unit"]=n.unit,t.setState(r),t.onChange(r)}(n,e)}}))})),e)))},N=wp.element,Q=N.createElement,P=N.Fragment;var T=function(t){var e,n={top:_("components.spacing.padding_top"),right:_("components.spacing.padding_right"),bottom:_("components.spacing.padding_bottom"),left:_("components.spacing.padding_left")};return Q(P,null,Q("div",{className:"grids-s-c grids-s-padding"},Q("h3",null,_("components.spacing.padding")),(e=[],jQuery.each(n,(function(n,r){e.push(Q(S,{key:n,label:r,advanced:!0,value:t["padding_"+t.breakpoint+"_"+n],unit:t["padding_"+t.breakpoint+"_"+n+"_unit"],max:100,min:0,initialPosition:-100,allowReset:!0,onChange:function(e){return function(e,n){void 0===n.value&&(n.value="");var r={};r["padding_"+t.breakpoint+"_"+e]=n.value,r["padding_"+t.breakpoint+"_"+e+"_unit"]=n.unit,t.setState(r),t.onChange(r)}(n,e)}}))})),e)))},E=wp.element,M=E.createElement,A=E.Fragment,D=wp.components.ToggleControl;var G=function(t){return M(A,null,M("div",{className:"grids-s-c grids-s-height"},M("h3",null,_("components.spacing.height")),M("p",null,_("components.spacing.height_help")),M(S,{advanced:!0,value:t["height_"+t.breakpoint],unit:t["height_"+t.breakpoint+"_unit"],max:800,min:0,initialPosition:-800,allowReset:!0,onChange:function(e){return function(e){void 0===e.value&&(e.value="");var n={};n["height_"+t.breakpoint]=e.value,n["height_"+t.breakpoint+"_unit"]=e.unit,t.setState(n),t.onChange(n)}(e)}}),M(D,{label:_("components.spacing.height_fix"),checked:t["height_"+t.breakpoint+"_fix"],onChange:function(e){return function(e){var n={};n["height_"+t.breakpoint+"_fix"]=e,t.setState(n),t.onChange(n)}(e)}})))},J=wp.element.createElement,F=[];jQuery.each(grids.breakpoints,(function(t,e){F.push({label:e.label,value:t})}));var L=[];jQuery.each(grids.image_sizes,(function(t,e){L.push({label:e.label,value:t})}));var W={1:{name:_("layouts.full"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#555d66",fillRule:"evenodd"})),columns:1,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}}]},"1/2-1/2":{name:_("layouts.50"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m23 2h2v28h-2z"}))),columns:2,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}},{column:{start:2,end:2},row:{start:1,end:1}}]},"1/3-1/3-1/3":{name:_("layouts.33"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m31 2h2v28h-2z"}),J("path",{d:"m15 2h2v28h-2z"}))),columns:3,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}},{column:{start:2,end:2},row:{start:1,end:1}},{column:{start:3,end:3},row:{start:1,end:1}}]},"1/4-1/4-1/4-1/4":{name:_("layouts.25"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m35 2h2v28h-2z"}),J("path",{d:"m11 2h2v28h-2z"}),J("path",{d:"m23 2h2v28h-2z"}))),columns:4,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}},{column:{start:2,end:2},row:{start:1,end:1}},{column:{start:3,end:3},row:{start:1,end:1}},{column:{start:4,end:4},row:{start:1,end:1}}]}},X={2:{"1/2-1/2":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m17 2h2v16h-2z"}))),layout:{columns:2,layout:[{start:1,end:1},{start:2,end:2}]}},"1/3-2/3":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m11 2h2v16h-2z"}))),layout:{columns:3,layout:[{start:1,end:1},{start:2,end:3}]}},"2/3-1/3":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m23 2h2v16h-2z"}))),layout:{columns:3,layout:[{start:1,end:2},{start:3,end:3}]}},"1/4-3/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m8 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:1},{start:2,end:4}]}},"3/4-1/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m26 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:3},{start:4,end:4}]}}},3:{"1/3-1/3-1/3":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m11 2h2v16h-2z"}),J("path",{d:"m23 2h2v16h-2z"}))),layout:{columns:3,layout:[{start:1,end:1},{start:2,end:2},{start:3,end:3}]}},"1/4-1/2-1/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m8 2h2v16h-2z"}),J("path",{d:"m26 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:1},{start:2,end:3},{start:4,end:4}]}},"1/4-1/4-1/2":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m8 2h2v16h-2z"}),J("path",{d:"m17 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:1},{start:2,end:2},{start:3,end:4}]}},"1/2-1/4-1/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66",fillRule:"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m26 2h2v16h-2z"}),J("path",{d:"m17 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:2},{start:3,end:3},{start:4,end:4}]}}}};function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}for(var H=wp.element,q=H.createElement,V=(H.Fragment,H.Component),Z=wp.components.SelectControl,K=function(t){u()(n,t);var e=U(n);function n(){return i()(this,n),e.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var t=this,e="grids-media-switch grids-media-"+this.props.breakpoint;return q("div",{className:e},q(Z,{label:_("components.media_switch.device"),value:this.props.breakpoint,options:F,onChange:function(e){return t.props.onChange(e)}}))}}]),n}(V),Y=wp.element.createElement,$=wp.components,tt=$.PanelBody,et=$.ToggleControl,nt=($.SelectControl,wp.compose.withState),rt={},ot=["top","right","bottom","left"],at=0;at<F.length;at++){for(var it=0;it<ot.length;it++)rt["margin_"+F[at].value+"_"+ot[it]]={type:"string",default:""},rt["padding_"+F[at].value+"_"+ot[it]]={type:"string",default:""},rt["margin_"+F[at].value+"_"+ot[it]+"_unit"]={type:"string",default:grids.general.size_units[0]?grids.general.size_units[0].value:"px"},rt["padding_"+F[at].value+"_"+ot[it]+"_unit"]={type:"string",default:grids.general.size_units[0]?grids.general.size_units[0].value:"px"};rt["height_"+F[at].value]={type:"string",default:""},rt["height_"+F[at].value+"_unit"]={type:"string",default:grids.general.size_units[0]?grids.general.size_units[0].value:"px"},rt["height_"+F[at].value+"_fix"]={type:"boolean",default:!1}}for(var st=nt({_test:!0,breakpoint:"desktop"})((function(t){return Y(et,{label:_("components.spacing.advanced"),checked:t.advanced_spacing,onChange:function(){t.setState({advanced_spacing:!t.advanced_spacing});var e={advanced_spacing:!t.advanced_spacing};if(t.advanced_spacing)for(var n=["top","right","bottom","left"],r=0;r<F.length;r++){for(var o=0;o<n.length;o++)e["margin_"+F[r].value+"_"+n[o]+"_unit"]="px",e["padding_"+F[r].value+"_"+n[o]+"_unit"]="px";e["height_"+F[r].value+"_unit"]="px"}t.setState(e),t.onChange(e)}}),Y(tt,{title:_("components.spacing.dimensions"),initialOpen:!1},Y(K,{breakpoint:t.breakpoint,onChange:function(e){return function(e){t.setState({breakpoint:e})}(e)}}),t.height&&Y(G,o()({breakpoint:t.breakpoint,onChange:function(e){t.onChange(e)}},t)),Y(O,o()({breakpoint:t.breakpoint,onChange:function(e){t.onChange(e)}},t)),Y(T,o()({breakpoint:t.breakpoint,onChange:function(e){t.onChange(e)}},t)))})),ct=function t(e,n,r){var o=null;if(n)"grids/section"===n.name&&(r=n),n.innerBlocks&&jQuery.each(n.innerBlocks,(function(){return this.clientId===e?(o=r,!1):(this.innerBlocks&&(o=t(e,this,r)),!o&&void 0)}));else{var a=wp.data.select("core/block-editor").getBlocks();jQuery.each(a,(function(){if(o=t(e,this,r))return!1}))}return o},lt=function(){var t=wp.data.select("core/block-editor").getSelectedBlock();return t?"grids/section"===t.name?t:ct(t.clientId):null},ut=function(){var t=wp.data.select("core/block-editor").getSelectedBlock();return t?"grids/area"===t.name?t:function t(e,n,r){var o=null;if(n)"grids/area"===n.name&&(r=n),n.innerBlocks&&jQuery.each(n.innerBlocks,(function(){return this.clientId===e?(o=r,!1):(this.innerBlocks&&(o=t(e,this,r)),!o&&void 0)}));else{var a=wp.data.select("core/block-editor").getBlocks();jQuery.each(a,(function(){if(o=t(e,this,r))return!1}))}return o}(t.clientId):null},dt=function(t){var e="";if("number"==typeof t){for(var n=0;n<t;n++)e+="1fr ";e=e.trim()}else e=t.join(" ");return e},pt=wp.element,gt=pt.createElement,ht=pt.Fragment,_t=wp.components,bt=_t.PanelBody,vt=_t.Button,mt=_t.ButtonGroup,ft=_t.ToggleControl,kt=_t.Tooltip,wt=(_t.Toolbar,_t.DropdownMenu,_t.Dropdown,wp.compose),yt=wt.withState,xt=wt.createHigherOrderComponent,zt=wp.blockEditor,Ct=zt.InspectorControls,Bt=(zt.InspectorAdvancedControls,zt.BlockControls,{stretch:{type:"boolean",default:!0}}),St=0;St<F.length;St++)Bt["gutter_"+F[St].value]={type:"string",default:""},Bt["gutter_"+F[St].value+"_unit"]={type:"string",default:grids.general.size_units[0]?grids.general.size_units[0].value:"px"};var It=function(t,e){t&&(t.preventDefault(),t.stopPropagation()),wp.data.dispatch("core/block-editor").selectBlock(e.clientId)},jt=function(t,e){t&&(t.preventDefault(),t.stopPropagation()),wp.data.dispatch("core/block-editor").selectBlock(e.clientId)};var Rt=xt((function(t){return function(e){if("grids/section"==e.name||"grids/area"==e.name)return gt(t,e);var n=ut();if(!n)return gt(t,e);var r=lt();return gt(ht,null,gt(t,e),gt(Ct,null,gt(bt,{className:"grids-structure-block"},gt("h3",null,_("components.structure.title")),gt(kt,{text:_("components.structure.select_area")},gt(vt,{isSecondary:!0,onClick:function(t){return jt(t,n)}},gt("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},gt("g",{fill:"none",fillRule:"evenodd"},gt("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),gt("rect",{fill:"#35a7ff",height:"10",rx:".6",width:"10",x:"5",y:"5"}))))),gt(kt,{text:_("components.structure.select_section")},gt(vt,{isSecondary:!0,onClick:function(t){return It(t,r)}},gt("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},gt("g",{fill:"none",fillRule:"evenodd"},gt("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),gt("rect",{fill:"#ffe605",height:"5",rx:"1",width:"5",x:"3",y:"3"}),gt("rect",{fill:"#35a7ff",height:"14",rx:"1",width:"6",x:"11",y:"3"}),gt("rect",{fill:"#ff404d",height:"6",rx:"1",width:"7",x:"3",y:"11"}),gt("g",{fill:"#0d0d0d"},gt("path",{d:"m2 6h10v1h-10z"}),gt("path",{d:"m6 2h1v4h-1z"}),gt("path",{d:"m8 13h1v5h-1z"}),gt("path",{d:"m12 2h1v10h-1z"}),gt("path",{d:"m2 12h16v1h-16z"})))))))))}}),"withInspectorControl");wp.hooks.addFilter("editor.BlockEdit","grids/localize",Rt);for(var Ot=yt({breakpoint:"desktop"})((function(t){var e=[],n=wp.data.select("core/block-editor").getSelectedBlock(),r=lt();if(!r)return null;jQuery.each(r.innerBlocks,(function(t,r){var o="grids-structure-area";r.clientId===n.clientId&&(o+=" grids-structure-selected");var a={gridColumnStart:r.attributes.column.start,gridColumnEnd:r.attributes.column.end+1,gridRowStart:r.attributes.row.start,gridRowEnd:r.attributes.row.end+1,zIndex:r.attributes.desktop_zIndex};e.push(gt("div",{key:t,className:o,style:a,onClick:function(t){return jt(t,r)}}))}));var o="grids-structure-section";r.clientId===n.clientId&&(o+=" grids-structure-selected");var a=1===r.attributes.rows||1===r.attributes.rows.length,i={gridTemplateColumns:dt(r.attributes.columns),gridTemplateRows:dt(r.attributes.rows)},s=[];if(a){var c=X[r.innerBlocks.length.toString()];if(c){s.push(gt("h4",{key:"layout-variants"},_("components.structure.change_layout")));var l=[];jQuery.each(c,(function(t,e){var n=t,o=!1;jQuery.each(e.layout.layout,(function(t,e){if(e.start!=r.innerBlocks[t].attributes.column.start||e.end!=r.innerBlocks[t].attributes.column.end)return o=!1,!1;o=!0})),l.push(gt(vt,{key:t,onClick:function(){!function(t,e){var n=X[t.innerBlocks.length.toString()][e];jQuery.each(t.innerBlocks,(function(t,e){wp.data.dispatch("core/block-editor").updateBlock(e.clientId,{attributes:{column:n.layout.layout[t]}})})),wp.data.dispatch("core/block-editor").updateBlock(t.clientId,{attributes:{columns:n.layout.columns,_test:!t.attributes._test}})}(r,n)},className:o?"grids-active":""},e.icon))})),s.push(gt("div",{key:"layout-variants-group",className:"grids-structure-buttons-group"},gt(mt,{"aria-label":_("components.structure.change_layout")},l)))}}var u=gt(ht,null,gt("h4",null,_("components.structure.settings")),gt(ft,{label:_("components.structure.equal_heights"),checked:t.stretch,onChange:function(){return function(t){var e=lt(),n={stretch:!t.stretch};t.setState(n),wp.data.dispatch("core/block-editor").updateBlock(e.clientId,{attributes:n}),jQuery.each(e.innerBlocks,(function(t,e){wp.data.dispatch("core/block-editor").updateBlock(e.clientId,{attributes:{_test:!e.attributes._test}})}))}(t)}}));return gt(bt,{className:"grids-structure-component"},gt("h3",null,_("components.structure.title")),gt("div",{className:o,style:i,onClick:function(t){return It(t,r)}},e),"grids/section"==n.name&&a&&s,"grids/section"==n.name&&a&&u)})),Nt=function(t,e,n){e.action="grids_"+t,jQuery.ajax({url:ajaxurl,data:e,complete:n})},Qt=wp.element,Pt=Qt.createElement,Tt=Qt.Fragment,Et=wp.components,Mt=Et.PanelBody,At=Et.Button,Dt=Et.ColorPalette,Gt=Et.SelectControl,Jt=Et.ToggleControl,Ft=Et.FocalPointPicker,Lt=wp.blockEditor.MediaUpload,Wt=wp.compose.withState,Xt={},Ut=0;Ut<F.length;Ut++)Xt["background_"+F[Ut].value+"_image_url"]={type:"string",source:"internal",default:""},Xt["background_"+F[Ut].value+"_image"]={type:"number",default:0},Xt["background_"+F[Ut].value+"_color"]={type:"string",default:""},Xt["background_"+F[Ut].value+"_image_size"]={type:"string",default:"full"},Xt["background_"+F[Ut].value+"_repeat"]={type:"string",default:"no-repeat"},Xt["background_"+F[Ut].value+"_position_x"]={type:"number",default:.5},Xt["background_"+F[Ut].value+"_position_y"]={type:"number",default:.5},Xt["background_"+F[Ut].value+"_position_advanced"]={type:"boolean",default:!1},Xt["background_"+F[Ut].value+"_size"]={type:"string",default:"auto"},Xt["background_"+F[Ut].value+"_attachment"]={type:"string",default:"scroll"},Xt["background_"+F[Ut].value+"_stretch"]={type:"boolean",default:!1};var Ht=function(t,e,n){Nt("get_image_url_by_id",{image_size:e,id:t},n)};var qt=Wt({breakpoint:"desktop",preview:"",preview_id:0,position:"center center",focal_point:{x:.5,y:.5}})((function(t){var e=JSON.parse(JSON.stringify(t));function n(e){if(void 0===e&&(e=t["background_"+t.breakpoint+"_image"]),e!==t.preview_id){var n=t["background_"+t.breakpoint+"_image_size"];Ht(e,n,(function(n){t.setState({preview:n.responseText,preview_id:e})}))}}function r(e){var n={};n["background_"+t.breakpoint+"_position_advanced"]=e,e||(n["background_"+t.breakpoint+"_position_x"]=.5,n["background_"+t.breakpoint+"_position_y"]=.5),t.setState(n),t.onChange(n)}var o=wp.data.select("core/editor").getEditorSettings().colors,a="",i="";switch(t["background_"+t.breakpoint+"_position_x"]){case 0:a="left";break;case.5:a="center";break;case 1:a="right"}switch(t["background_"+t.breakpoint+"_position_y"]){case 0:i="top";break;case.5:i="center";break;case 1:i="bottom"}return e.position=i+" "+a,e.focal_point={x:t["background_"+t.breakpoint+"_position_x"],y:t["background_"+t.breakpoint+"_position_y"]},n(),Pt(Mt,{title:_("components.background.title"),initialOpen:!1},Pt(K,{breakpoint:t.breakpoint,onChange:function(e){return function(e){t.setState({breakpoint:e}),n()}(e)}}),Pt("div",{className:"grid-background-fields"},!0===e.stretch&&Pt(Jt,{label:_("components.background.stretch"),checked:t["background_"+t.breakpoint+"_stretch"],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_stretch"]=e,t.onChange(n)}(e)}}),Pt("h3",null,_("components.background.color")),Pt(Dt,{colors:o,value:t["background_"+t.breakpoint+"_color"],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_color"]=e.color,t.onChange(n)}({color:e})}}),Pt("div",{className:"grids-media-upload"},Pt("h3",null,_("components.background.image")),Pt("div",{className:"grids-media-img",style:{backgroundImage:"url("+t.preview+")"}}),Pt(Lt,{allowedTypes:"image/*",onSelect:function(e){return function(e){var r={};r["background_"+t.breakpoint+"_image"]=e.id,t.onChange(r),n(e.id)}(e)},value:t["background_"+t.breakpoint+"_image"],render:function(t){var e=t.open;return Pt(At,{isDefault:!0,onClick:e},_("components.background.media_library"))}}),0!=t["background_"+t.breakpoint+"_image"]&&Pt(At,{isDefault:!0,onClick:function(){var e={};e["background_"+t.breakpoint+"_image"]=0,e["background_"+t.breakpoint+"_image_url"]="",t.setState({preview:"",preview_id:0}),t.onChange(e)}},_("components.background.remove_image"))),0!=t["background_"+t.breakpoint+"_image"]&&Pt(Tt,null,Pt("div",{className:"grids-background-ctrls"},Pt(Gt,{label:_("components.background.image_size"),value:t["background_"+t.breakpoint+"_image_size"],options:L,onChange:function(e){return function(e){var r={};r["background_"+t.breakpoint+"_image_size"]=e,t.onChange(r),n()}(e)}}),Pt(Gt,{label:_("components.background.repeat"),value:t["background_"+t.breakpoint+"_repeat"],options:[{label:_("components.background.no_repeat"),value:"no-repeat"},{label:_("components.background.repeat_both"),value:"repeat"},{label:_("components.background.repeat_x"),value:"repeat-x"},{label:_("components.background.repeat_y"),value:"repeat-y"}],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_repeat"]=e,t.onChange(n)}(e)}}),!t["background_"+t.breakpoint+"_position_advanced"]&&Pt(Tt,null,Pt(Gt,{label:_("components.background.position"),value:e.position,options:[{label:_("components.background.position_top_left"),value:"top left"},{label:_("components.background.position_top_center"),value:"top center"},{label:_("components.background.position_top_right"),value:"top right"},{label:_("components.background.position_center_left"),value:"center left"},{label:_("components.background.position_center_center"),value:"center center"},{label:_("components.background.position_center_right"),value:"center right"},{label:_("components.background.position_bottom_left"),value:"bottom left"},{label:_("components.background.position_bottom_center"),value:"bottom center"},{label:_("components.background.position_bottom_right"),value:"bottom right"}],onChange:function(e){return function(e){var n={},r=0,o=0;switch(e){case"top left":break;case"top center":r=.5;break;case"top right":r=1;break;case"center left":o=.5;break;case"center center":o=.5,r=.5;break;case"center right":o=.5,r=1;break;case"bottom left":o=1;break;case"bottom center":o=1,r=.5;break;case"bottom right":o=1,r=1}n["background_"+t.breakpoint+"_position_x"]=r,n["background_"+t.breakpoint+"_position_y"]=o,t.setState(n),t.onChange(n)}(e)}}),void 0!==Ft&&Pt(Jt,{checked:t["background_"+t.breakpoint+"_position_advanced"],label:_("components.background.select_focal_point"),onChange:function(t){return r(t)}})),t["background_"+t.breakpoint+"_position_advanced"]&&Pt(Tt,null,Pt(Ft,{label:_("components.background.focal_point"),url:t.preview,value:e.focal_point,onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_position_x"]=e.x,n["background_"+t.breakpoint+"_position_y"]=e.y,t.setState(n),t.onChange(n)}(e)}}),Pt(Jt,{checked:t["background_"+t.breakpoint+"_position_advanced"],label:_("components.background.back_to_simple_positioning"),onChange:function(t){return r(t)}})),Pt(Gt,{label:_("components.background.size"),value:t["background_"+t.breakpoint+"_size"],options:[{label:_("components.background.size_cover"),value:"cover"},{label:_("components.background.size_contain"),value:"contain"},{label:_("components.background.size_auto"),value:"auto"}],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_size"]=e,t.onChange(n)}(e)}}),Pt(Gt,{label:_("components.background.attachment"),value:t["background_"+t.breakpoint+"_attachment"],options:[{label:_("components.background.attachment_scroll"),value:"scroll"},{label:_("components.background.attachment_fixed"),value:"fixed"}],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_attachment"]=e,t.onChange(n)}(e)}})))))})),Vt=n(6),Zt=n.n(Vt);function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}for(var Yt=wp.element,$t=Yt.createElement,te=Yt.Component,ee=wp.components,ne=ee.PanelBody,re=ee.ToggleControl,oe=ee.TextControl,ae=(wp.compose.withState,{}),ie=0;ie<F.length;ie++)ae[F[ie].value+"_display"]={type:"boolean",default:!0},ae[F[ie].value+"_zIndex"]={type:"string",default:"0"};var se=function(t){u()(n,t);var e=Kt(n);function n(){var t;i()(this,n),t=e.apply(this,arguments);Zt()(t);return t.state={breakpoint:"desktop"},t}return c()(n,[{key:"changeZIndex",value:function(t){var e={};e[this.state.breakpoint+"_zIndex"]=t,this.setState({zIndex:t}),this.props.onChange(e)}},{key:"changeDisplay",value:function(t){var e={};e[this.state.breakpoint+"_display"]=t,this.setState({display:t}),this.props.onChange(e)}},{key:"changeBreakpoint",value:function(t){this.setState({breakpoint:t})}},{key:"render",value:function(){var t=this;return $t(ne,{title:_("components.display.title"),initialOpen:!1},$t(K,{breakpoint:this.state.breakpoint,onChange:function(e){return t.changeBreakpoint(e)}}),$t(re,{checked:this.props[this.state.breakpoint+"_display"],label:_("components.display.display"),onChange:function(e){return t.changeDisplay(e)}}),$t(oe,{type:"number",value:this.props[this.state.breakpoint+"_zIndex"],label:_("components.display.zIndex"),onChange:function(e){return t.changeZIndex(e)}}))}}]),n}(te);function ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var le=wp.element,ue=le.createElement,de=le.Fragment,pe=le.Component,ge=wp.components,he=ge.Button,_e=ge.ButtonGroup,be=ge.Tooltip,ve=function(t){u()(n,t);var e=ce(n);function n(){var t;return i()(this,n),(t=e.apply(this,arguments)).state={designer:t.props.designer,rows:0,columns:0,designing:t.props.designing||!1,layout:t.props.layout||[],insertLabel:t.props.insertLabel||_("section.placeholder.insert_in_page")},t}return c()(n,[{key:"componentDidMount",value:function(){this.state.designing&&this.bindGridDesigner()}},{key:"componentDidUpdate",value:function(){this.state.designing&&this.bindGridDesigner()}},{key:"bindGridDesigner",value:function(){var t=ReactDOM.findDOMNode(this),e=this,n=e.state.designer.columns,r=e.state.designer.rows;jQuery(".grids-advanced-composer-grid, .grids-advanced-composer-areas").css({"grid-template-columns":"repeat( "+n+", 1fr )","grid-template-rows":"repeat( "+r+", 1fr )"}),jQuery(".grids-advanced-composer-grid",t).selectable({start:function(){jQuery("body").addClass("grids-selecting")},stop:function(r,o){jQuery("body").removeClass("grids-selecting");var a=jQuery(".ui-selected",t);if(0!==a.length){if(a){var i=a.first(),s=a.last(),c={column:i.index()%n+1,row:parseInt(i.index()/n,10)+1},l={column:s.index()%n+1,row:parseInt(s.index()/n,10)+1},u={column:{start:c.column,end:l.column},row:{start:c.row,end:l.row},order:e.state.layout.length+1};e.addArea(u)}jQuery(".ui-selected",t).removeClass("ui-selected")}}});var o=jQuery(".grids-designer-cell",t).outerWidth()+6;jQuery(".grids-advanced-composer-areas .grids-designer-area",t).draggable({helper:"clone",grid:[o,o],start:function(){var t=jQuery(this).attr("data-id");jQuery.each(e.state.layout,(function(n,r){if(r._id==t)return e._dragged_cell=r,!1})),e._start_column=JSON.parse(JSON.stringify(e._dragged_cell.column)),e._start_row=JSON.parse(JSON.stringify(e._dragged_cell.row))},drag:function(t,n){var r=(n.position.left-n.originalPosition.left)/o,a=(n.position.top-n.originalPosition.top)/o;e._dragged_cell.column.start=e._start_column.start+r,e._dragged_cell.column.end=e._start_column.end+r,e._dragged_cell.column.start<1&&(e._dragged_cell.column.end=e._dragged_cell.column.end-e._dragged_cell.column.start+1,e._dragged_cell.column.start=1),e._dragged_cell.column.end>e.state.designer.columns&&(e._dragged_cell.column.start=e.state.designer.columns-(e._dragged_cell.column.end-e._dragged_cell.column.start),e._dragged_cell.column.end=e.state.designer.columns),e._dragged_cell.row.start=e._start_row.start+a,e._dragged_cell.row.end=e._start_row.end+a,e._dragged_cell.row.start<1&&(e._dragged_cell.row.end=e._dragged_cell.row.end-e._dragged_cell.row.start+1,e._dragged_cell.row.start=1),e._dragged_cell.row.end>e.state.designer.rows&&(e._dragged_cell.row.start=e.state.designer.rows-(e._dragged_cell.row.end-e._dragged_cell.row.start),e._dragged_cell.row.end=e.state.designer.rows),e._dragged_cell.row.start=Math.round(e._dragged_cell.row.start),e._dragged_cell.row.end=Math.round(e._dragged_cell.row.end),e._dragged_cell.column.start=Math.round(e._dragged_cell.column.start),e._dragged_cell.column.end=Math.round(e._dragged_cell.column.end),e.setState({layout:e.state.layout})}}),jQuery(".grids-advanced-composer-areas .grids-designer-area",t).resizable({containment:"parent",handles:"all",start:function(){var t=jQuery(this).attr("data-id");jQuery.each(e.state.layout,(function(n,r){if(r._id==t)return e._dragged_cell=r,!1})),e._start_column=JSON.parse(JSON.stringify(e._dragged_cell.column)),e._start_row=JSON.parse(JSON.stringify(e._dragged_cell.row))},resize:function(t,n){var r=(n.size.width-n.originalSize.width)/o,a=(n.size.height-n.originalSize.height)/o;r=Math.ceil(r),a=Math.ceil(a),jQuery(this).css({width:"",left:"",height:"",top:""}),n.position.left==n.originalPosition.left?e._dragged_cell.column.end=e._start_column.end+r:e._dragged_cell.column.start=e._start_column.start+-1*r,n.position.top==n.originalPosition.top?e._dragged_cell.row.end=e._start_row.end+a:e._dragged_cell.row.start=e._start_row.start+-1*a,e._dragged_cell.row.start=Math.round(e._dragged_cell.row.start),e._dragged_cell.row.end=Math.round(e._dragged_cell.row.end),e._dragged_cell.column.start=Math.round(e._dragged_cell.column.start),e._dragged_cell.column.end=Math.round(e._dragged_cell.column.end),e.setState({layout:e.state.layout})},stop:function(){jQuery(this).css("width",""),jQuery(this).css("height",""),jQuery(this).css("left",""),jQuery(this).css("top","")}}),jQuery(".grids-advanced-areas ul",t).sortable({axis:"y",start:function(t,n){e._start=n.item.index()},stop:function(t,n){e._end=n.item.index(),e.swapAreas(e._start,e._end)}})}},{key:"swapAreas",value:function(t,e){this.state.layout=function(t,e,n){for(;e<0;)e+=t.length;for(;n<0;)n+=t.length;if(n>=t.length)for(var r=n-t.length+1;r--;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t}(this.state.layout,t,e)}},{key:"addArea",value:function(t){this.state.layout.push(Object.assign({},t,{id:t.order,_id:t.order})),t.column.end>this.state.columns&&(this.state.columns=t.column.end),this.setState({layout:this.state.layout,rows:this.state.rows})}},{key:"removeArea",value:function(t){var e=this.state.layout[t];isNaN(e.id)&&wp.data.dispatch("core/block-editor").removeBlock(e.id,!1),this.state.layout.splice(t,1),jQuery.each(this.state.layout,(function(t,e){e._id=t+1})),this.setState({layout:this.state.layout})}},{key:"consolidateLayout",value:function(){var t=this,e=[];if(jQuery.each(t.state.layout,(function(n,r){if(r.row.end>t.state.rows&&(t.state.rows=r.row.end),isNaN(r.id))wp.data.dispatch("core/block-editor").updateBlockAttributes(r.id,r),wp.data.dispatch("core/block-editor").moveBlockToPosition(r.id,t.props.section,t.props.section,n);else{var o=wp.blocks.createBlock("grids/area",r);e.push(o)}})),e.length){var n=wp.data.select("core/block-editor").getBlock(t.props.section).innerBlocks;n=n.concat(e),wp.data.dispatch("core/block-editor").replaceInnerBlocks(t.props.section,n)}this.props.onChange({columns:this.state.designer.columns,rows:this.state.designer.rows,grid:"1"},this.props.section)}},{key:"selectLayout",value:function(t){var e=this;jQuery.each(t.layout,(function(t,n){var r=wp.blocks.createBlock("grids/area",n);wp.data.dispatch("core/block-editor").insertBlock(r,t,e.props.section)})),this.props.onChange({columns:t.columns,rows:t.rows,grid:"1"},this.props.section)}},{key:"renderInitialSelection",value:function(){var t=[],e=this;return jQuery.each(e.props.presets,(function(n,r){t.push(ue(he,{key:n,onClick:function(){return e.selectLayout(r)}},r.icon))})),t.push(ue(be,{key:"grid-designer",text:_("section.placeholder.grid_designer")},ue(he,{onClick:function(){return e.setState({designing:!0})}},ue("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},ue("g",{fill:"#555d66",fillRule:"evenodd"},ue("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),ue("path",{d:"m2 19h16v2h-16z"}),ue("path",{d:"m18 9h12v2h-12z"}),ue("path",{d:"m32 14h15v2h-15z"}),ue("path",{d:"m18 2h2v28h-2z"}),ue("path",{d:"m30 2h2v28h-2z"}),ue("path",{d:"m38 16h2v14h-2z"})))))),ue(de,null,ue("div",null,_("section.placeholder.select_layout_help")),ue(_e,{"aria-label":_("section.placeholder.select_layout")},t))}},{key:"renderGridDesigner",value:function(){for(var t,e=[],n=[],r=this,o=0;o<r.state.designer.columns;o++)for(var a=0;a<r.state.designer.rows;a++)e.push(ue("div",{key:o+" "+a,className:"grids-designer-cell"}));return jQuery.each(r.state.layout,(function(t,e){n.push(ue("div",{className:"grids-designer-area","data-id":e._id,key:e._id,style:{gridColumnStart:e.column.start,gridColumnEnd:e.column.end+1,gridRowStart:e.row.start,gridRowEnd:e.row.end+1}},ue("span",{className:"grids-designer-area-id"},e._id)))})),ue(de,null,ue("div",null,_("section.placeholder.grid_designer_help")),ue("div",{className:"grids-advanced-w"},ue("div",{className:"grids-advanced-composer"},ue("div",{className:"grids-advanced-composer-grid-container"},ue("div",{className:"grids-advanced-composer-grid"},e),ue("div",{className:"grids-advanced-composer-areas"},e,n))),ue("div",{className:"grids-advanced-areas"},ue("ul",null,(t=[],jQuery.each(r.state.layout,(function(e,n){t.push(ue("li",{className:"grids-advanced-area","data-index":e,key:e},ue("span",{className:"grids-advanced-area-id"},n._id),ue(be,{text:_("section.placeholder.remove_area")},ue("button",{className:"grids-advanced-area-remove",onClick:function(){return r.removeArea(e)}},ue("svg",{height:"6",viewBox:"0 0 6 6",width:"6",xmlns:"http://www.w3.org/2000/svg"},ue("path",{d:"m4.94117647 0 1.05882353 1.05882353-1.94117647 1.94117647 1.94117647 1.94117647-1.05882353 1.05882353-1.94117647-1.94117647-1.94117647 1.94117647-1.05882353-1.05882353 1.94117647-1.94117647-1.94117647-1.94117647 1.05882353-1.05882353 1.94117647 1.94117647z",fill:"#fff",fillRule:"evenodd"}))))))})),t)))),r.state.layout.length>0&&ue(he,{isPrimary:!0,onClick:function(){return r.consolidateLayout()}},r.state.insertLabel))}},{key:"render",value:function(){return ue("div",{className:"grids-placeholder"},!this.state.designing&&this.renderInitialSelection(),this.state.designing&&this.renderGridDesigner())}}]),n}(pe),me=wp.blocks.registerBlockType,fe=wp.element,ke=fe.createElement,we=fe.Fragment,ye=wp.blockEditor,xe=ye.InnerBlocks,ze=ye.InspectorControls,Ce=ye.BlockControls,Be=wp.components,Se=Be.Placeholder,Ie=(Be.Button,Be.ButtonGroup,Be.Toolbar),je=Be.IconButton,Re=wp.compose.withState,Oe=Object.assign({blockId:{type:"string",default:""},grid:{type:"string",default:"0"},_test:{type:"boolean",source:"internal",default:!1},columns:{type:"integer",default:0},rows:{type:"integer",default:0},advanced_spacing:{type:"boolean",default:!1},anchorID:{type:"string",default:""}},Bt,ae,rt,Xt),Ne=JSON.parse(JSON.stringify(Oe)),Qe=(me("grids/section",{title:_("section.title"),description:_("section.description"),category:"layout",supports:{html:!1,align:["wide","full"],anchor:!0},icon:ke("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},ke("g",{fill:"none",fillRule:"evenodd"},ke("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),ke("rect",{fill:"#ffe605",height:"5",rx:"1",width:"5",x:"3",y:"3"}),ke("rect",{fill:"#35a7ff",height:"14",rx:"1",width:"6",x:"11",y:"3"}),ke("rect",{fill:"#ff404d",height:"6",rx:"1",width:"7",x:"3",y:"11"}),ke("g",{fill:"#0d0d0d"},ke("path",{d:"m2 6h10v1h-10z"}),ke("path",{d:"m6 2h1v4h-1z"}),ke("path",{d:"m8 13h1v5h-1z"}),ke("path",{d:"m12 2h1v10h-1z"}),ke("path",{d:"m2 12h16v1h-16z"})))),attributes:Ne,edit:Re({firstInsert:!1,editing:!1,afterEdit:!1})((function(t){t.attributes.blockId!==t.clientId&&t.setAttributes({blockId:t.clientId}),t.attributes.anchor&&t.setAttributes({anchorID:t.attributes.anchor});var e=window.grids.designer;if("1"!==t.attributes.grid)return ke(Se,{key:"placeholder",label:_("section.layout")},ke(ve,{designer:e,section:t.clientId,presets:W,onChange:function(e,n){t.setAttributes(e),t.setState({firstInsert:!0})}}));var n=wp.data.select("core/block-editor").getBlock(t.clientId),r=1===t.attributes.rows||void 0!==t.attributes.rows.length&&1===t.attributes.rows.length;if(n&&0===n.innerBlocks.length){var a=[];if(r)jQuery.each(W,(function(e,n){n.columns===t.attributes.columns&&n.rows===t.attributes.rows&&jQuery.each(n.layout,(function(t,e){e.id=t+1,e._id=t+1,e.order=t+1;var n=wp.blocks.createBlock("grids/area",e);a.push(n)}))}));else{var i={id:1,_id:1,order:1,column:{start:1,end:13},row:{start:1,end:7}},s=wp.blocks.createBlock("grids/area",i);a.push(s)}wp.data.dispatch("core/block-editor").replaceInnerBlocks(n.clientId,a)}var c,l=null;if(t.editing){var u=[];jQuery.each(n.innerBlocks,(function(t,e){u.push({order:e.attributes.order,id:e.clientId,_id:t+1,column:e.attributes.column,row:e.attributes.row,zIndex:e.attributes.desktop_zIndex})})),l=ke(Se,{key:"placeholder",label:_("section.layout")},ke(ve,{designer:e,section:t.clientId,designing:!0,layout:u,insertLabel:_("section.placeholder.confirm_layout_change"),onChange:function(e,n){t.setAttributes(e),t.setState({firstInsert:!1,editing:!1,afterEdit:!0})}}))}c=ke(we,null,ke(ze,null,ke(Ot,t.attributes),ke(se,o()({onChange:function(e){t.setAttributes(e)}},t.attributes)),ke(st,o()({onChange:function(e){return t.setAttributes(e)},height:!0},t.attributes)),ke(qt,o()({onChange:function(e){return t.setAttributes(e)}},t.attributes,{stretch:"wide"===t.attributes.align}))),!r&&ke(Ce,null,ke(Ie,null,ke(je,{className:"components-toolbar__control",label:_("section.edit"),icon:"edit",onClick:function(){return t.setState({editing:!0})}}))));var d=["grids-areas-wrapper","grids-aw-"+t.clientId];t.attributes.stretch&&d.push("grids-equalize-areas"),t.attributes.align&&"wide"===t.attributes.align&&t.attributes.background_desktop_stretch&&d.push("grids-background-stretch");var p=function(t,e,n){var r=t.clientId;void 0===window._grids_block_props&&(window._grids_block_props={}),void 0===window._grids_block_props[t.clientId]&&(window._grids_block_props[t.clientId]={});var o=window._grids_block_props[t.clientId],a=[".grids-aw-"+r,"#clone-block-"+r].join(",")+"{",i="section";return jQuery.each(["columns","rows","height","gutter","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","background-color","background-repeat","background-size","background-attachment","background-position-x","background-position-y"],(function(e,n){switch(n){case"columns":case"rows":if(void 0!==t.attributes[n]){var r="";if("number"==typeof t.attributes[n]){for(var o=0;o<t.attributes[n];o++)r+="rows"==n?"auto ":"1fr ";r=r.trim()}else r=t.attributes[n].join(" ");a+="--"+i+"-"+n+":"+r+";"}break;case"height":""!==t.attributes.height_desktop&&(a+="--"+i+"-"+n+":"+t.attributes.height_desktop+t.attributes.height_desktop_unit+";");break;case"gutter":var s=wp.data.select("grids").getGutterX("desktop");""!==s.value&&""!==s.unit?a+="--"+i+"-"+n+":"+s.value+s.unit+";":a+="--"+i+"-"+n+":0px;";break;case"margin-top":if(""!==t.attributes.margin_desktop_top){a+="--"+i+"-"+n+":"+t.attributes.margin_desktop_top+t.attributes.margin_desktop_top_unit+";";var c=t.attributes.margin_desktop_top;c<0&&(c=0),a+="--"+i+"-border-"+n+":"+c+t.attributes.margin_desktop_top_unit+";"}break;case"margin-right":if(""!==t.attributes.margin_desktop_right){a+="--"+i+"-"+n+":"+t.attributes.margin_desktop_right+t.attributes.margin_desktop_right_unit+";";var l=t.attributes.margin_desktop_right;l<0&&(l=0),a+="--"+i+"-border-"+n+":"+l+t.attributes.margin_desktop_right_unit+";"}break;case"margin-bottom":if(""!==t.attributes.margin_desktop_bottom){a+="--"+i+"-"+n+":"+t.attributes.margin_desktop_bottom+t.attributes.margin_desktop_bottom_unit+";";var u=t.attributes.margin_desktop_bottom;u<0&&(u=0),a+="--"+i+"-border-"+n+":"+u+t.attributes.margin_desktop_bottom_unit+";"}break;case"margin-left":if(""!==t.attributes.margin_desktop_left){a+="--"+i+"-"+n+":"+t.attributes.margin_desktop_left+t.attributes.margin_desktop_left_unit+";";var d=t.attributes.margin_desktop_left;d<0&&(d=0),a+="--"+i+"-border-"+n+":"+d+t.attributes.margin_desktop_left_unit+";"}break;case"padding-top":""!==t.attributes.padding_desktop_top&&(a+="--"+i+"-"+n+":"+t.attributes.padding_desktop_top+t.attributes.padding_desktop_top_unit+";");break;case"padding-right":""!==t.attributes.padding_desktop_right&&(a+="--"+i+"-"+n+":"+t.attributes.padding_desktop_right+t.attributes.padding_desktop_right_unit+";");break;case"padding-bottom":""!==t.attributes.padding_desktop_bottom&&(a+="--"+i+"-"+n+":"+t.attributes.padding_desktop_bottom+t.attributes.padding_desktop_bottom_unit+";");break;case"padding-left":""!==t.attributes.padding_desktop_left&&(a+="--"+i+"-"+n+":"+t.attributes.padding_desktop_left+t.attributes.padding_desktop_left_unit+";");break;case"background-color":""!==t.attributes.background_desktop_color&&(a+="--"+i+"-"+n+":"+t.attributes.background_desktop_color+";");break;case"background-repeat":""!==t.attributes.background_desktop_repeat&&(a+="--"+i+"-"+n+":"+t.attributes.background_desktop_repeat+";");break;case"background-size":""!==t.attributes.background_desktop_size&&(a+="--"+i+"-"+n+":"+t.attributes.background_desktop_size+";");break;case"background-attachment":""!==t.attributes.background_desktop_attachment&&(a+="--"+i+"-"+n+":"+t.attributes.background_desktop_attachment+";");break;case"background-position-x":""!==t.attributes.background_desktop_position_x&&(a+="--"+i+"-"+n+":"+100*t.attributes.background_desktop_position_x+"%;");break;case"background-position-y":""!==t.attributes.background_desktop_position_y&&(a+="--"+i+"-"+n+":"+100*t.attributes.background_desktop_position_y+"%;")}})),0==t.attributes.desktop_display&&(a+="--"+i+"-display-opacity:0.4;"),t.attributes.background_desktop_image&&(o.background_desktop_image!=t.attributes.background_desktop_image||o.background_desktop_image_size!=t.attributes.background_desktop_image_size)&&Ht(t.attributes.background_desktop_image,t.attributes.background_desktop_image_size,(function(e){t.setAttributes({background_desktop_image_url:e.responseText})})),""!==t.attributes.background_desktop_image_url&&(a+="--"+i+"-background-image:url("+t.attributes.background_desktop_image_url+");"),a+="}",window._grids_block_props[t.clientId]=Object.assign({},o,t.attributes),a}(t),g=ke(xe,{template:null,templateLock:r?"all":null,allowedBlocks:["grids/area"]});return ke(we,null,l,c,ke("div",{className:d.join(" ")},ke("style",{id:"grids-style-"+t.clientId,dangerouslySetInnerHTML:{__html:p}}),!t.editing&&g))})),save:function(t){return ke(xe.Content,null)}}),wp.blocks.registerBlockType),Pe=wp.element,Te=Pe.createElement,Ee=Pe.Fragment,Me=wp.blockEditor,Ae=Me.InnerBlocks,De=Me.InspectorControls,Ge=Me.BlockControls,Je=wp.components,Fe=Je.Toolbar,Le=Je.DropdownMenu,We=(Je.TextControl,Object.assign({blockId:{type:"string",default:""},_test:{type:"boolean",source:"internal",default:!1},column:{type:"object",default:{start:1,end:1}},row:{type:"object",default:{start:1,end:1}},advanced_spacing:{type:"boolean",default:!1},vertical_alignment:{type:"string",default:"top"},order:{type:"integer",default:0},name:{type:"string",default:""}},rt,ae,Xt));Qe("grids/area",{title:_("area.title"),description:_("area.description"),category:"layout",supports:{html:!1,reusable:!1,inserter:!1},parent:["grids/section"],icon:Te("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Te("g",{fill:"none",fillRule:"evenodd"},Te("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),Te("rect",{fill:"#35a7ff",height:"10",rx:".6",width:"10",x:"5",y:"5"}))),attributes:We,edit:function(t){t.attributes.blockId!==t.clientId&&t.setAttributes({blockId:t.clientId});var e={top:Te("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Te("g",{fill:"#555d66",fillRule:"evenodd"},Te("path",{d:"m4 4h12v2h-12z"}),Te("path",{d:"m4 9h12v2h-12z",opacity:".201056"}),Te("path",{d:"m4 14h12v2h-12z",opacity:".201056"}),Te("path",{d:"m18 18v-16h-16v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}))),center:Te("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Te("g",{fill:"#555d66",fillRule:"evenodd"},Te("path",{d:"m4 9h12v2h-12z"}),Te("path",{d:"m4 4h12v2h-12z",opacity:".2"}),Te("path",{d:"m4 14h12v2h-12z",opacity:".2"}),Te("path",{d:"m18 18v-16h-16v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}))),bottom:Te("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Te("g",{fill:"#555d66",fillRule:"evenodd"},Te("path",{d:"m4 14h12v2h-12z"}),Te("path",{d:"m4 9h12v2h-12z",opacity:".2"}),Te("path",{d:"m4 4h12v2h-12z",opacity:".2"}),Te("path",{d:"m18 18v-16h-16v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"})))},n=lt(),r=Te(Ee,null,Te(De,null,null!==n&&Te(Ot,n.attributes),Te(se,o()({onChange:function(e){t.setAttributes(e)}},t.attributes)),Te(st,o()({onChange:function(e){return t.setAttributes(e)}},t.attributes)),Te(qt,o()({onChange:function(e){return t.setAttributes(e)}},t.attributes))),Te(Ge,null,Te(Fe,null,Te(Le,{icon:e[t.attributes.vertical_alignment],label:_("area.vertical_alignment"),controls:[{title:_("area.vertical_alignment_top"),icon:e.top,onClick:function(){return t.setAttributes({vertical_alignment:"top"})}},{title:_("area.vertical_alignment_center"),icon:e.center,onClick:function(){return t.setAttributes({vertical_alignment:"center"})}},{title:_("area.vertical_alignment_bottom"),icon:e.bottom,onClick:function(){return t.setAttributes({vertical_alignment:"bottom"})}}]})))),a=function(t,e,n){var r=["#block-"+t.clientId,"#clone-block-"+t.clientId];void 0===window._grids_block_props&&(window._grids_block_props={}),void 0===window._grids_block_props[t.clientId]&&(window._grids_block_props[t.clientId]={});var o=window._grids_block_props[t.clientId],a=r.join(",")+"{";jQuery.each(["columns","rows","height","gutter","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","background-color","background-repeat","background-size","background-attachment","background-position-x","background-position-y","zIndex"],(function(e,n){switch(n){case"columns":case"rows":void 0!==t.attributes[n]&&(a+="--area-"+n+":"+t.attributes[n]+";");break;case"height":""!==t.attributes.height_desktop&&(a+="--area-"+n+":"+t.attributes.height_desktop+t.attributes.height_desktop_unit+";");break;case"gutter":var r=wp.data.select("grids").getGutterX("desktop");""!==r.value&&""!==r.unit?a+="--area-"+n+":"+r.value+r.unit+";":a+="--area-"+n+":0px;";break;case"margin-top":if(""!==t.attributes.margin_desktop_top){a+="--area-"+n+":"+t.attributes.margin_desktop_top+t.attributes.margin_desktop_top_unit+";";var o=t.attributes.margin_desktop_top;o<0&&(o=0),a+="--area-border-"+n+":"+o+t.attributes.margin_desktop_top_unit+";"}break;case"margin-right":if(""!==t.attributes.margin_desktop_right){a+="--area-"+n+":"+t.attributes.margin_desktop_right+t.attributes.margin_desktop_right_unit+";";var i=t.attributes.margin_desktop_right;i<0&&(i=0),a+="--area-border-"+n+":"+i+t.attributes.margin_desktop_right_unit+";"}break;case"margin-bottom":if(""!==t.attributes.margin_desktop_bottom){a+="--area-"+n+":"+t.attributes.margin_desktop_bottom+t.attributes.margin_desktop_bottom_unit+";";var s=t.attributes.margin_desktop_bottom;s<0&&(s=0),a+="--area-border-"+n+":"+s+t.attributes.margin_desktop_bottom_unit+";"}break;case"margin-left":if(""!==t.attributes.margin_desktop_left){a+="--area-"+n+":"+t.attributes.margin_desktop_left+t.attributes.margin_desktop_left_unit+";";var c=t.attributes.margin_desktop_left;c<0&&(c=0),a+="--area-border-"+n+":"+c+t.attributes.margin_desktop_left_unit+";"}break;case"padding-top":""!==t.attributes.padding_desktop_top&&(a+="--area-"+n+":"+t.attributes.padding_desktop_top+t.attributes.padding_desktop_top_unit+";");break;case"padding-right":""!==t.attributes.padding_desktop_right&&(a+="--area-"+n+":"+t.attributes.padding_desktop_right+t.attributes.padding_desktop_right_unit+";");break;case"padding-bottom":""!==t.attributes.padding_desktop_bottom&&(a+="--area-"+n+":"+t.attributes.padding_desktop_bottom+t.attributes.padding_desktop_bottom_unit+";");break;case"padding-left":""!==t.attributes.padding_desktop_left&&(a+="--area-"+n+":"+t.attributes.padding_desktop_left+t.attributes.padding_desktop_left_unit+";");break;case"background-color":""!==t.attributes.background_desktop_color&&(a+="--area-"+n+":"+t.attributes.background_desktop_color+";");break;case"background-repeat":""!==t.attributes.background_desktop_repeat&&(a+="--area-"+n+":"+t.attributes.background_desktop_repeat+";");break;case"background-size":""!==t.attributes.background_desktop_size&&(a+="--area-"+n+":"+t.attributes.background_desktop_size+";");break;case"background-attachment":""!==t.attributes.background_desktop_attachment&&(a+="--area-"+n+":"+t.attributes.background_desktop_attachment+";");break;case"background-position-x":""!==t.attributes.background_desktop_position_x&&(a+="--area-"+n+":"+100*t.attributes.background_desktop_position_x+"%;");break;case"background-position-y":""!==t.attributes.background_desktop_position_y&&(a+="--area-"+n+":"+100*t.attributes.background_desktop_position_y+"%;");break;case"zIndex":void 0!==t.attributes.desktop_zIndex&&(a+="--area-z-index:"+t.attributes.desktop_zIndex+";")}})),0==t.attributes.desktop_display&&(a+="--area-display-opacity:0.4;");var i=["start","end"];return jQuery.each(["column","row"],(function(e,n){jQuery.each(i,(function(e,r){var o="--area-"+n+"-"+r,i=t.attributes[n][r];"end"===r&&(i+=1),a+=o+":"+i+";"}))})),t.attributes.background_desktop_image&&(o.background_desktop_image!=t.attributes.background_desktop_image||o.background_desktop_image_size!=t.attributes.background_desktop_image_size)&&Ht(t.attributes.background_desktop_image,t.attributes.background_desktop_image_size,(function(e){t.setAttributes({background_desktop_image_url:e.responseText})})),""!==t.attributes.background_desktop_image_url&&(a+="--area-background-image:url("+t.attributes.background_desktop_image_url+");"),a+="}",window._grids_block_props[t.clientId]=Object.assign({},o,t.attributes),a}(t),i=["grids-blocks-wrapper","grids-bw-"+t.clientId,"grids-vertical-align-"+t.attributes.vertical_alignment],s=grids.area.allowedBlocks;return Te(Ee,null,r,Te("div",{className:i.join(" ")},Te("style",{id:"grids-style-"+t.clientId,dangerouslySetInnerHTML:{__html:a}}),Te(Ae,{allowedBlocks:s,templateLock:!1,renderAppender:function(){return Te(Ae.ButtonBlockAppender,null)}})))},save:function(){return Te(Ae.Content,null)}});function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Ue=wp.element,He=Ue.createElement,qe=Ue.Fragment,Ve=function(t){u()(n,t);var e=Xe(n);function n(){var t;i()(this,n),t=e.apply(this,arguments);Zt()(t);var r=t.props.gutter[t.props.breakpoint];return t.state=r,t}return c()(n,[{key:"onChangeGutter",value:function(t){void 0===t.value&&(t.value=""),this.props.onChange(t)}},{key:"render",value:function(){var t=this;return He(qe,null,He("div",{className:"grids-s-c grid-s-gutter"},He("h3",null,this.props.label),He(S,{advanced:!0,value:this.props.gutter[this.props.breakpoint].value,unit:this.props.gutter[this.props.breakpoint].unit,onChange:function(e){return t.onChangeGutter(e)}})))}}]),n}(Ue.Component);function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Ke=wp.element,Ye=Ke.createElement,$e=Ke.Fragment,tn=Ke.Component,en=wp.editPost,nn=en.PluginSidebar,rn=en.PluginSidebarMoreMenuItem,on=wp.plugins.registerPlugin,an=wp.components,sn=an.PanelBody,cn=an.ToggleControl,ln=wp.data,un=ln.withSelect,dn=ln.registerStore,pn={wide_width:!1,gutter:{x:{},y:{}}};jQuery.each(F,(function(t,e){pn.gutter.x[e.value]={value:"",unit:"px"}})),window.grids.data=dn("grids",{reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_GUTTER_X":return t.gutter.x[e.data.breakpoint]={value:e.data.value,unit:e.data.unit},t;case"SET_WIDE_WIDTH":return t.wide_width=e.data.wide_width,t}return t},actions:{setGutterX:function(t,e,n){return{type:"SET_GUTTER_X",data:{breakpoint:t,value:e,unit:n}}},setEditorWideWidth:function(t){return{type:"SET_WIDE_WIDTH",data:{wide_width:t}}}},selectors:{getGutter:function(t){return t.gutter},getGutterX:function(t,e){return t.gutter.x[e]}}});var gn=function(t){u()(n,t);var e=Ze(n);function n(){var t;i()(this,n),t=e.apply(this,arguments);Zt()(t);var r={breakpoint:"desktop"};return t.state=Object.assign({},r,JSON.parse(JSON.stringify(pn))),t}return c()(n,[{key:"componentDidMount",value:function(){var t=this,e="/wp/v2/";switch(this.props.postType){case"post":e+="posts/";break;case"page":e+="pages/";break;default:e+=this.props.postType+"/"}e+=this.props.postId,wp.apiFetch({path:e,method:"GET"}).then((function(e){var n={},r=!1;return e.meta&&e.meta._grids_gutter_x&&(n=JSON.parse(e.meta._grids_gutter_x)),e.meta&&e.meta._grids_wide_width&&(r=e.meta._grids_wide_width),jQuery.each(F,(function(t,e){var r=void 0!==n[e.value]?n[e.value]:"",o=void 0!==n[e.value+"_unit"]?n[e.value+"_unit"]:"px";wp.data.dispatch("grids").setGutterX(e.value,r,o)})),t.setState({gutter:wp.data.select("grids").getGutter(),wide_width:r}),e}),(function(t){return t}))}},{key:"onChangeGutterX",value:function(t){wp.data.dispatch("grids").setGutterX(this.state.breakpoint,t.value,t.unit);t=wp.data.select("grids").getGutter();this.setState({gutter:t});var e={};jQuery.each(t.x,(function(t,n){e[t]=n.value,e[t+"_unit"]=n.unit})),wp.data.dispatch("core/editor").editPost({meta:{_grids_gutter_x:JSON.stringify(e)}})}},{key:"toggleEditorWideWidth",value:function(t){wp.data.dispatch("grids").setEditorWideWidth(t),this.setState({wide_width:t}),t?jQuery("body").addClass("grids-block-editor-wide"):jQuery("body").removeClass("grids-block-editor-wide"),wp.data.dispatch("core/editor").editPost({meta:{_grids_wide_width:t}})}},{key:"render",value:function(){var t=this;return Ye($e,null,Ye(rn,{target:"grids-sidebar"},_("plugin.name")),Ye(nn,{name:"grids-sidebar",title:_("plugin.name")},Ye(sn,null,Ye(cn,{label:_("options.wide_width"),checked:this.state.wide_width,onChange:function(e){return t.toggleEditorWideWidth(e)},help:_("options.wide_width_help"),className:"grids-wide-control"}),Ye(K,{breakpoint:this.state.breakpoint,onChange:function(e){return t.setState({breakpoint:e})}}),Ye(Ve,{label:_("components.spacing.gutter_x"),onChange:function(e){t.onChangeGutterX(e)},breakpoint:this.state.breakpoint,gutter:this.state.gutter.x}))))}}]),n}(tn),hn=un((function(t,e){var n=e.forceIsSaving,r=t("core/editor"),o=r.getCurrentPostId,a=r.getCurrentPostType,i=r.isSavingPost,s=r.isPublishingPost,c=r.isAutosavingPost;return{postId:o(),postType:a(),isSaving:n||i(),isAutoSaving:c(),isPublishing:s()}}))(gn);on("grids",{icon:Ye("svg",{id:"grids-plugin-svg-icon",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Ye("g",{fill:"none",fillRule:"evenodd"},Ye("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),Ye("rect",{fill:"#ffe605",height:"5",rx:"1",width:"5",x:"3",y:"3"}),Ye("rect",{fill:"#35a7ff",height:"14",rx:"1",width:"6",x:"11",y:"3"}),Ye("rect",{fill:"#ff404d",height:"6",rx:"1",width:"7",x:"3",y:"11"}),Ye("g",{fill:"#0d0d0d"},Ye("path",{d:"m2 6h10v1h-10z"}),Ye("path",{d:"m6 2h1v4h-1z"}),Ye("path",{d:"m8 13h1v5h-1z"}),Ye("path",{d:"m12 2h1v10h-1z"}),Ye("path",{d:"m2 12h16v1h-16z"})))),render:hn})}]);